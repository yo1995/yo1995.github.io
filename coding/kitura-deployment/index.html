<!DOCTYPE html>
<html>

  
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ç®€å•è®°å½•éƒ¨ç½²Kituraå’ŒNginxç¯å¢ƒçš„è¿‡ç¨‹">
  <meta name="author" content="Chen Ting">
  <meta name="keywords" content="">
  <meta name="theme-color" content="#272727">

  <title>Kitura deployment notes</title>

  <link rel="icon" href="/img/favicons/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/img/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/img/favicons/manifest.json">
  <link rel="mask-icon" href="/img/favicons/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="canonical" href="https://yo1995.github.io/coding/kitura-deployment/" />
  <link rel="alternate" type="application/rss+xml" title="Chen's Blog" href="https://yo1995.github.io/feed.xml" />
  
  <meta property="og:site_name" content="Chen's Blog" />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://yo1995.github.io/coding/kitura-deployment/" />
  <meta property="og:title" content="Kitura deployment notes" />
  <meta property="og:description" content="ç®€å•è®°å½•éƒ¨ç½²Kituraå’ŒNginxç¯å¢ƒçš„è¿‡ç¨‹" />
  <meta property="og:article:published_time" content="2019-06-19T00:00:00-05:00" />
  <meta property="og:article:author" content="Chen Ting" />

  <meta property="og:image" content="/images/201906/swift.png" />
  

  <!-- BOOTSTRAP -->
  <link rel="stylesheet" href="/assets/css/bootstrap.css">
  <!-- PLUGINS -->
  <link rel="stylesheet" href="/assets/css/vlthemes.css">
  <!-- FONT AWESOME -->
  <link rel="stylesheet" href="/assets/css/font-awesome.min.css">	
  <!-- CUSTOM CSS -->
  <link rel="stylesheet" href="/assets/css/style.css">
  
  <link rel="stylesheet" href="/assets/css/syntax.css">
  
  
  

</head>
<!-- 180622 - tecent analytics -->
<script type="text/javascript" src="https://tajs.qq.com/stats?sId=65898920" charset="UTF-8"></script>


  <body data-spy="scroll" data-target="#navbar" data-offset="100">

		<!-- FRAMES -->
		<span class="frame-line top-frame"></span>
		<span class="frame-line right-frame"></span>
		<span class="frame-line bottom-frame"></span>
		<span class="frame-line left-frame"></span>

    <div class="animsition">
      <div class="content">

        
<!-- header-fixed / header-scroll-up  -->
<div class="scroll-indicator fixedheader" style="width"></div>
<header class="header-wrap header-fixed minimal-menu">
    <div class="header-inner">
        <div class="container">
			
            <div class="logo">
                <a href="/blog" class="animsition-link">Ch<span>e</span>n's Blog</a>
            </div>
			

            <a href="#" class="menu-toggle desctop-menu">
                <i class="menu-bars">
                    <i></i>
                    <i></i>
                    <i></i>
                </i>
            </a>

            <a href="#" class="menu-toggle mobile-menu-toggle">
                <i class="menu-bars">
                    <i></i>
                    <i></i>
                    <i></i>
                </i>
            </a>

            <nav class="primary-menu">

                <ul>
                    <li>
                        <a href="/" class="animsition-link">
                            <span>Home</span>
                        </a>
                    </li>

                    <li class="menu-item-has-children" class="current-menu-item">
                        <a href="">
                            <span>Blog</span>
                        </a>
						    <ul class="sub-menu">
								<li>
									<a href="/blog/" class="animsition-link">
										<span>Blog Index</span>
									</a>
								</li>
								<li>
									<a href="/posts/" class="animsition-link">
										<span>Archives</span>
									</a>
								</li>
								<li>
									<a href="/categories/" class="animsition-link">
										<span>Categories</span>
									</a>
								</li>
								<li>
									<a href="/tags/" class="animsition-link">
										<span>Tags</span>
									</a>
								</li>
							</ul>
                    </li>

                    <li>
                        <a href="/photos/" class="animsition-link">
                            <span>Photos</span>
                        </a>
                    </li>

                    <li>
                        <a href="/about/" class="animsition-link">
                            <span>About</span>
                        </a>
                    </li>
					
					  <!--li>
                        <a href="" class="animsition-link" id="CN">
                            <span>CN</span>
                        </a>
                    </li-->
                </ul>
            </nav>
            <!-- END PRIMARY-MENU -->
            <div class="clearfix"></div>

        </div>
    </div>
    <!-- END HEADER-INNER -->
</header>
<!-- END HEADER-WRAP -->


        

        <main id="main-content">
          
          <div class="single-post-wrap clearfix">
  <div class="container">
    <div class="row">
      <div class="col-md-8 content-fixed">

        <article class="post single-post" itemscope itemtype="http://schema.org/BlogPosting">
          <div class="post-thumb clearfix">
            
            <img src="/images/201906/swift.png" alt="Kitura deployment notes">
            
          </div>
          
          <div class="post-content" itemprop="articleBody">
            <div class="post-date" datetime="2019-06-19T00:00:00-05:00" itemprop="datePublished">
              Jun 19, 2019
            </div>
            <h1 class="post-title" itemprop="name headline">Kitura deployment notes</h1>
            <div class="content-color">
            
            <h2 id="èƒŒæ™¯">
<a id="èƒŒæ™¯" class="anchor" href="#%E8%83%8C%E6%99%AF" aria-hidden="true"><span class="octicon octicon-link"></span></a>èƒŒæ™¯</h2>

<p>Ricå‰äº›é˜µå­æå‡ºæƒ³éƒ¨ç½²ä¸€ä¸ªçº¯Swiftçš„å¼€å‘ç¯å¢ƒï¼Œå³macOS/iOSå®¢æˆ·ç«¯ç”¨Swiftå†™ï¼Œåå°æœåŠ¡å™¨ä¹Ÿç”¨Swiftèµ·ã€‚è¿™æ ·çš„å¥½å¤„åœ¨äºå¼€å‘è€…åªç”¨æŒæ¡ä¸€é—¨è¯­è¨€ï¼Œå³å¯å®Œæˆâ€œå…¨æ ˆâ€â€”â€”æ•´ä¸ªåº”ç”¨çš„å¼€å‘æµç¨‹ã€‚</p>

<p>äº‹ä¸å®œè¿Ÿï¼Œæˆ‘é©¬ä¸Šå»è°ƒç ”æœ‰å“ªäº›è¾ƒä¸ºæˆç†Ÿçš„åç«¯æ–¹æ¡ˆã€‚é¦–å…ˆæ˜ å…¥çœ¼å¸˜çš„æ˜¯<a href="https://github.com/IBM-Swift/Kitura">Kitura</a>/<a href="https://github.com/vapor/vapor">Vapor</a>/<a href="https://github.com/PerfectlySoft/Perfect">Perfect</a>ä¸‰é©¾é©¬è½¦ã€‚å…¶ä¸­Kituraæ˜¯IBMç‰µå¤´çš„ï¼Œå…¶ä»–äºŒè€…ä¸ºç¬¬ä¸‰æ–¹ä¸ºä¸»å¯¼ã€‚æ›´æ–°é¢‘ç‡æ–¹é¢ï¼ŒVaporæœ€å¿«æœ€å‹¤ï¼Œäº²èº«è·µè¡Œäº†Swiftå®˜æ–¹è·¨å¤§ç‰ˆæœ¬è¯¥APIçš„â€œä¼˜è‰¯ä¼ ç»Ÿâ€ï¼Œæ¯æ¬¡å‡çº§æœ‰å¾ˆå¤šéƒ¨åˆ†æ¨å€’é‡æ¥ï¼›Kituraæœ‰å¦‚IBMçš„ä¸€è´¯ä½œé£ï¼Œç¨³å¥è¿Ÿç¼“ï¼Œæ®è¯´åå‘å…¼å®¹æ€§èƒ½å¤Ÿä¿æŒåˆ°åˆä»£ï¼›Perfectè™½è¯´æœ‰ä¸€ç‚¹ä¸­æ–‡æ”¯æŒï¼Œä½†æ›´æ–°é¢‘ç‡èµ¶ä¸ä¸ŠäºŒè€…ï¼Œç›´åˆ°Swift5.1å‘å¸ƒæ—¶ä¾æ—§åªåœç•™åœ¨4.1çš„æ”¯æŒã€‚</p>

<p>æœ€å¼€å§‹æˆ‘æ˜¯é€‰æ‹©äº†Kituraçš„ï¼Œæ— å®ƒï¼Œç›¸ä¿¡å¤§å“ç‰Œ<del>åå­—è¯»èµ·æ¥å¸¦æ„Ÿ</del>ã€‚å®ƒçš„æ–‡æ¡£ä¹Ÿæ˜¯æ¯”è¾ƒå…¨é¢è€Œå…‹åˆ¶çš„ï¼Œç®€æ´è€Œå¯Œæœ‰è¡¨è¾¾åŠ›ï¼ŒèŠ±äº†åŠå°æ—¶å°±é…å¥½äº†ç¯å¢ƒã€‚ä¸€åˆ‡é¡ºåˆ©ï¼Œæˆ‘æƒ³å…ˆè¯•è¯•å®˜æ–¹æåˆ°çš„å‡ ä¸ªäº®ç‚¹åŠŸèƒ½å§ï¼Œç»“æœéšä¾¿å®‰è£…äº†ä¸ªMarkdownï¼Œå‘ç°æ¸²æŸ“æ•ˆæœä¸å ªç›´è§†â€”â€”è¿è¡¨æ ¼å’Œä»»åŠ¡æ¸…å•éƒ½æ— æ³•æ¸²æŸ“ã€‚è¿™è®©æˆ‘è¿™ä¸ªGitLabä¸­åº¦ç”¨æˆ·éå¸¸ä¸çˆ½ï¼Œé‚å¼ƒè€Œè½¬å‘Vaporã€‚</p>

<p>Vaporçš„å®‰è£…ç¨å¾®å¤šèŠ±ä¸€ç‚¹æ—¶é—´ï¼ŒåŸå› æ˜¯å…¶åˆå§‹çš„â€œå†…ç½®ç”µæ± â€ï¼Œè‡ªå¸¦åŠŸèƒ½æ¯”è¾ƒå¤šï¼Œåœ¨3409è¿™å°Core Duo E8400çš„è€æœºå™¨ä¸Šç¼–è¯‘èŠ±äº†ä¸å°‘æ—¶é—´ã€‚åŠ ä¸Šåç«¯Swiftæš‚æ—¶è¿˜é€šè¿‡ä¸€ä¸ªå«åšSPMçš„å·¥å…·ç®¡ç†ï¼ŒåŸç†ç±»ä¼¼Carthageï¼Œä¸å¦‚CocoaPodså¯ä»¥ç›´æ¥å¼•å…¥äºŒè¿›åˆ¶æ–‡ä»¶é‚£ä¹ˆå¿«ã€‚åœ¨ç­‰çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¾¿ç†Ÿæ‚‰äº†ä¸€ä¸‹Vaporçš„æ–‡æ¡£ã€‚</p>

<p>ä½œä¸ºä¸€ä¸ªåªç”¨è¿‡Python Webåç«¯çš„èœé¸Ÿé€‰æ‰‹ï¼Œæˆ‘å¯¹æœåŠ¡å™¨çš„è®¤è¯†ä¸»è¦æ¥æºäºDjangoã€‚Djangoçš„æ–‡æ¡£æ—¢æ¸…æ™°åˆæå…·æ“ä½œæ€§ï¼Œæ¯æ¬¡å¿˜è®°ä¸€äº›æ¦‚å¿µï¼Œå¼€ä¸ªé¡¹ç›®ä¸€è¯•å°±å¼„æ¸…äº†ï¼Œéå¸¸é€‚åˆå­¦ç”Ÿåšç‚¹è‡ªç”¨çš„å°æœåŠ¡å™¨ã€‚ä¸Šæ¬¡Lividè¿˜è¯´Djangoæ˜¯â€œé‡é‡çº§â€çš„æœåŠ¡ï¼Œæˆ‘å€’ä¸è§‰å¾—ã€‚è¾ƒä¹‹LAMPã€Nginxï¼ŒDjangoçš„éƒ¨ç½²å¯è°“ç›¸å½“è½»æ¾äº†ã€‚</p>

<p>ä¸è¿‡åœ¨çœ‹æ–‡æ¡£çš„è¿‡ç¨‹ä¸­ï¼Œè¿˜æ˜¯æœ‰äº›éšå¿§ã€‚ç›¸æ¯”äºKituraï¼ŒVaporçš„â€œè·‘è·¯â€å¯èƒ½æ€§æ›´å¤§ã€‚é¡¹ç›®çš„å§Šå¦¹äº‘æœåŠ¡æ ‡ä»·æ²¡å•¥ç«äº‰åŠ›ï¼Œæ•´ä¸ªç½‘ç«™ä¹Ÿæœ‰ç‚¹ä¹°æ¨¡æ¿çš„æ„Ÿè§‰ï¼ŒUbuntuçš„æ–‡æ¡£ä¸å¦‚Kituraè¯¦ç»†ã€‚è¯­æ³•ä¹Ÿæ²¡æœ‰å…¶é‚£ä¹ˆæ ‡å‡†æ˜“äºç†è§£ã€‚æ— è®ºå¦‚ä½•ï¼Œè¿˜æ˜¯å…ˆéƒ¨ç½²ä¸€ä¸ªè¯•è¯•ã€‚</p>

<hr>

<h2 id="å®‰è£…swiftç¯å¢ƒ">
<a id="å®‰è£…swiftç¯å¢ƒ" class="anchor" href="#%E5%AE%89%E8%A3%85swift%E7%8E%AF%E5%A2%83" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®‰è£…Swiftç¯å¢ƒ</h2>

<p>ä»<a href="https://swift.org/download/">å®˜ç½‘</a>ä¸‹è½½ï¼Œæ£€æŸ¥ç­¾åç„¶åè§£å‹ã€‚å¦‚æœä¸ç›´æ¥æ”¾è¿›ç³»ç»Ÿçš„binçš„è¯ï¼Œéœ€è¦è®¾ç½®ç¯å¢ƒå˜é‡ï¼š</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span>/path/to/usr/bin:<span class="s2">"</span><span class="k">${</span><span class="nv">PATH</span><span class="k">}</span><span class="s2">"</span>
</code></pre></div></div>
<p>æ‰§è¡Œæˆ–è€…å°†å…¶åŠ å…¥<code class="highlighter-rouge">~/.bashrc</code>å³å¯ã€‚</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>swift <span class="nt">--version</span>
</code></pre></div></div>
<p>ä»¥æ£€æŸ¥ç¯å¢ƒæ˜¯å¦æ­£ç¡®ï¼ŒSwiftç¨‹åºå¯ä»¥æ‰¾åˆ°ã€‚</p>

<h2 id="å®‰è£…vaporç¯å¢ƒ">
<a id="å®‰è£…vaporç¯å¢ƒ" class="anchor" href="#%E5%AE%89%E8%A3%85vapor%E7%8E%AF%E5%A2%83" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®‰è£…Vaporç¯å¢ƒ</h2>

<p>ç›®å‰2019å¹´6æœˆ19æ—¥æœ€æ–°ç‰ˆæœ¬çš„ç¯å¢ƒæ˜¯Vapor4ï¼Œä½†ä»…æ”¯æŒSwift5.1.ç”±äºSwiftå®˜ç½‘å‘å¸ƒç‰ˆè¿˜åœ¨5.0.1ç‰ˆï¼Œå› æ­¤å°±é€€è€Œæ±‚å…¶æ¬¡é€‰äº†Vapor3ã€‚ç­‰ç§‹å­£å¼€å§‹æ—¶å†çœ‹æ˜¯å¦éœ€è¦å‡çº§ã€‚</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">eval</span> <span class="s2">"</span><span class="k">$(</span>curl <span class="nt">-sL</span> https://apt.vapor.sh<span class="k">)</span><span class="s2">"</span>
<span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>vapor
<span class="nv">$ </span>vapor <span class="nt">--help</span>
</code></pre></div></div>

<p>æ£€æŸ¥vaporç¯å¢ƒæ­£ç¡®ã€‚</p>

<p>ç„¶åé€šè¿‡</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>vapor new &lt;your-project-name&gt;
</code></pre></div></div>
<p>åˆ›å»ºä¸€ä¸ªAPPã€‚ä¸Djangoçš„startprojectè¿‡ç¨‹ä¸€æ ·ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªåŒ…å«è®¾ç½®ã€è·¯ç”±ä»¥åŠMVCçš„é¡¹ç›®ã€‚ä¸åŒçš„æ˜¯ï¼ŒVaporæŠŠæ–‡ä»¶å¤¹éƒ½é»˜è®¤å¥½äº†ï¼Œåªè¦æŠŠå¯¹åº”æ¨¡å—æ”¾è¿›å»å³å¯ã€‚</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>vapor build
<span class="nv">$ </span>vapor run
</code></pre></div></div>
<p>æˆ–ç›´æ¥è¿è¡Œrunä¹Ÿä¼šå¢é‡ç¼–è¯‘ã€‚</p>

<p>é»˜è®¤ç¼–è¯‘æ˜¯Debugçš„schemeï¼Œå¯é€šè¿‡<code class="highlighter-rouge">vapor run--env production</code>è®¾ä¸ºç¦ç”¨debugè¾“å‡ºç­‰ç­‰ã€‚
æœ€åç¼–è¯‘è¿è¡Œï¼Œå³å¯åœ¨<code class="highlighter-rouge">http://localhost:8080</code>çœ‹åˆ°It worksçš„å­—æ ·ã€‚</p>

<h2 id="é…ç½®nginxä»£ç†">
<a id="é…ç½®nginxä»£ç†" class="anchor" href="#%E9%85%8D%E7%BD%AEnginx%E4%BB%A3%E7%90%86" aria-hidden="true"><span class="octicon octicon-link"></span></a>é…ç½®Nginxä»£ç†</h2>

<p>æœ¬ä»¥ä¸ºåº”è¯¥æ²¡å•¥é—®é¢˜ï¼Œç»“æœæ ½äº†å¤§è·Ÿå¤´ã€‚å…ˆè¯´è¯´æ¡Œå­ä¸‹è¿™å°Core Duoçš„ä¸»æœºã€‚ä¼°è®¡æœ‰å¹´å¤´äº†ï¼ŒCPU E8400ï¼Œè‡³å°‘ä¹Ÿæ˜¯08æˆ–09å¹´çš„æœºå™¨äº†ã€‚å†…å­˜2Gã€ç¡¬ç›˜20Gï¼Œç”±å·¥é™¢ITæ”¯æŒéƒ¨é—¨çš„å°å“¥ç»´æŠ¤ï¼Œé€šè¿‡netIDç™»å½•ï¼Œç½‘å¡æ³¨å†Œåˆ°devicesé¡µé¢ã€‚è¿™ç½‘ç»œé…ç½®è·Ÿæ•£è½åœ¨å­¦æ ¡å„å¤„çš„iMacä¼°è®¡å¾ˆç±»ä¼¼ã€‚ç„¶è€Œæœ€åˆæˆ‘å¹¶æœªæ„è¯†åˆ°è¿™ç‚¹ï¼Œä»ä»¥ä¸ºè¿™æ˜¯å°ç©ºç™½çš„ï¼Œå®Œå…¨ç”±è‡ªå·±æŒæ§çš„ç”µè„‘ã€‚</p>

<p>äºæ˜¯å°±ä¸€æ­¥æ­¥æ¥å‘—ï¼ŒæŒ‰ç…§ä¸€ä¸ª<a href="https://medium.com/@ahmedraad/how-to-deploy-vapor-app-on-ubuntu-16-04-and-run-it-in-production-eef18f7b4f05">æ•™ç¨‹</a>å®‰è£…äº†ä¸ªSupervisorï¼Œåæ¥è§‰å¾—è¿˜æ˜¯ç›´æ¥ç”¨screenç•™ç€ä¼šè¯ï¼Œæ¯æ¬¡è¿ä¸Šå»çœ‹logæ¯”è¾ƒç®€å•ï¼Œäºæ˜¯åˆæ”¹äº†å›æ¥ã€‚</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>supervisorctl status
</code></pre></div></div>
<p>çš„æ•ˆæœä¸</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>screen <span class="nt">-ls</span>
</code></pre></div></div>
<p>å¹¶ä¸ä¸€æ ·ï¼Œä¸€ä¸ªæ˜¯ç›‘æ§è¿›ç¨‹çŠ¶æ€ï¼Œå¦ä¸€ä¸ªæ˜¯ç›‘æ§ä¼šè¯çŠ¶æ€ã€‚</p>

<p>ç„¶åç¬¬äºŒéƒ¨åˆ†æ•™ç¨‹è®©æ”¹é˜²ç«å¢™ã€‚è¿™ä¹Ÿå¾ˆæ­£å¸¸ï¼Œæ¯•ç«ŸWindowsæ¯æ¬¡åšäº›è·Ÿç½‘ç»œæœ‰å…³çš„å®éªŒä¹Ÿéœ€è¦å…³ã€‚</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>ufw <span class="nb">enable</span>
<span class="nv">$ </span><span class="nb">sudo </span>ufw allow ssh
<span class="nv">$ </span><span class="nb">sudo </span>ufw allow http
<span class="nv">$ </span><span class="nb">sudo </span>ufw status
</code></pre></div></div>

<p>æ­¤å¤„ufwæ˜¯<code class="highlighter-rouge">Uncomplicated Firewall</code>çš„ç®€ç§°ï¼Œæ˜¯Ubuntuçš„ç®€åŒ–ç‰ˆiptablesï¼Œä¹Ÿå°±æ˜¯è¿™æ®µç½‘ä¸Šçœ‹æ¥çš„æè¿°å‘äº†æˆ‘ä¸¤ä¸‰ä¸ªå°æ—¶çš„æ—¶é—´ã€‚</p>

<p>æŠŠufwæ‰“å¼€ï¼Œå…è®¸22å’Œ80ç«¯å£ï¼Œè¿™éƒ½å¾ˆå®¹æ˜“ç†è§£ã€‚ç„¶åé…ç½®nginxï¼Œå› ä¸ºæš‚æ—¶æ²¡æœ‰åŸŸåï¼Œæ‰€ä»¥ç›´æ¥æ</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>nano /etc/nginx/sites-available/default
</code></pre></div></div>
<p>å³å¯ï¼ŒæŒ‡å®š80ç«¯å£ï¼ˆä¸Šé¢é˜²ç«å¢™å…è®¸äº†çš„ï¼‰ï¼Œç„¶åæ˜ å°„åˆ°æœ¬åœ°çš„8080ç«¯å£ã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server {
    listen 80 default_server;
    listen [::]:80 default_server;
    location / {
        proxy_pass http://127.0.0.1:8080;
    }
}
</code></pre></div></div>

<p>ä¸€åˆ‡éƒ½æ˜¯ç®€å•ç›´è§‚ï¼Œä¸åº”è¯¥æœ‰ä»»ä½•é—®é¢˜ã€‚ç„¶è€Œä¸€åˆ·æ–°æˆ‘å‚»äº†ï¼š<code class="highlighter-rouge">Connection Refused.</code></p>

<p>ä¸æ­»å¿ƒï¼Œæ¢äº†ä¸¤å°è®¾å¤‡æµ‹ï¼Œç»“æœä¸€å°æ˜¯timeoutå¦ä¸€å°ä¹Ÿæ˜¯refusedã€‚è¿™è®©æˆ‘é¡¿ç”Ÿç–‘è™‘ã€‚ä¸€èˆ¬è€Œè¨€æˆ‘è§è¿‡çš„refusedéƒ½å› ä¸ºæœåŠ¡å™¨é…ç½®äº†è§„åˆ™ç¦æ­¢è¿æ¥ï¼Œä½†æ€ä¹ˆåˆä¼štimeoutå‘¢ï¼Ÿéš¾é“æ˜¯nginxæ ¹æœ¬æ²¡èµ·æ¥ï¼Ÿ</p>

<p>èŠ±äº†åŠå°æ—¶äº†è§£å¦‚ä½•è·å–nginxè¿è¡ŒçŠ¶æ€ï¼Œä»¥åŠ<a href="https://www.keycdn.com/support/nginx-commands">å¸¸è§nginxæ“ä½œ</a>ï¼š</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>service nginx status
<span class="nv">$ </span>systemctl status nginx.service
<span class="nv">$ </span><span class="nb">sudo </span>lsof <span class="nt">-i</span> TCP:80
<span class="nv">$ </span>systemctl <span class="nt">-q</span> is-active nginx <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"It is active"</span>
<span class="nv">$ </span>systemctl restart nginx
</code></pre></div></div>

<p>æ£€æŸ¥äº†ä¸€åœˆå‘ç°ï¼Œä¼¼ä¹é—®é¢˜ä¸åœ¨å®ƒèº«ä¸Šã€‚å½“æ—¶è¿˜åœ¨ç”¨Supervisorï¼ŒåˆèŠ±äº†åŠå°æ—¶ç ”ç©¶å¦‚ä½•æ£€æŸ¥å®ƒçš„çŠ¶æ€ï¼Œå‘ç°é™¤äº†å†™äº†ä¸ªtypoä»¥å¤–å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚é¢˜å¤–è¯ï¼šè‡ªå·±æ‰“å­—ä¸å¥½é€Ÿåº¦å¿«å®¹æ˜“é”™çš„æ¯›ç—…ï¼Œåœ¨å¼€å§‹å­¦ç¼–ç¨‹åè¢«æ€¥å‰§æ”¾å¤§ï¼Œç»å¸¸å› ä¸ºæ‰“é”™å­—æ€€ç–‘äººç”Ÿï¼Œæ‰“é”™å­—æŒ¥æ³ªé‡å¯æœåŠ¡å™¨çš„ä¸¾åŠ¨ä¸çŸ¥ä¸€æ¬¡å‡ºç°â€”â€”å¾ªç¯æ¡ä»¶é”™æ­»å¾ªç¯ã€å†…æ ¸å˜é‡åœ°å€é”™kernel panicï¼Œå¦‚æ­¤ç§ç§ï¼Œç´¯è§‰ä¸çˆ±ã€‚å­å“§å­å“§åˆæµªè´¹åŠå°æ—¶ï¼Œæ’é™¤äº†å®ƒçš„å«Œç–‘ã€‚</p>

<p>å†·é™ä¸‹æ¥ä¸€æƒ³ï¼Œæœ¬åœ°æ—¢ç„¶èƒ½å¤Ÿè®¿é—®ï¼Œé‚£è¯´æ˜è·ŸSwiftå’ŒVaporéƒ½æ²¡æœ‰å…³ç³»ã€‚ä½†æ˜¯localhostèƒ½å¤Ÿè®¿é—®127.0.0.1å´ä¸èƒ½ï¼Œè¿™åˆæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ„Ÿè§‰è‡ªå·±é€æ¸æŠ“ä½äº†é‡ç‚¹ï¼Œäºæ˜¯å»çœ‹hostsï¼Œçœ‹ufwçš„è®¾ç½®ï¼ŒC(4,2)ä¸€ç•ªç©·ä¸¾æµ‹è¯•å‘ç°å¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ã€‚æ—¶é—´ä¸çŸ¥ä¸è§‰åœ°æµé€ï¼Œåªå¥½ä¸€è¾¹åƒå·®å¼ºäººæ„çš„é€Ÿå†»ç›’é¥­ä¸€è¾¹è°ƒè¯•ã€‚æ€ä¹ˆè®¾ç½®ufwéƒ½æ²¡ç”¨ï¼ŒçœŸçš„æœ‰äº›æ°”é¦äº†ã€‚è¿˜èƒ½æœ‰å•¥åŸå› å‘¢ï¼Ÿ</p>

<p>æœ€ååªèƒ½ç¡¬ç€å¤´çš®ç”¨å…³é”®å­—æœï¼Œæœåˆ°äº†å…³äº<a href="https://serverfault.com/questions/129086/how-to-start-stop-iptables-on-ubuntu">iptables</a>çš„æ“ä½œã€‚å…ˆæ˜¯çœ‹åˆ°äº†ä¸ª<a href="https://serverfault.com/questions/670575/failed-to-connect-to-127-0-0-1-port-80">ç±»ä¼¼çš„é—®é¢˜</a>ï¼Œç„¶åå¼€å§‹ç°åœºå­¦<a href="https://www.howtogeek.com/177621/the-beginners-guide-to-iptables-the-linux-firewall/">å¦‚ä½•æ”¹iptables</a>ã€‚æœ€åæ‰“å¼€è¿™å°ä¸»æœºçš„iptablesä¸€çœ‹ï¼Œå”‰å‘€å¦ˆå‘€è¿™æ˜¯turd mountainå•Šï¼</p>

<p>130å¤šè¡Œçš„è§„åˆ™ï¼Œæ¸…æ™°åœ°åˆ’åˆ†äº†å­¦é™¢å„ä¸ªå­ç½‘çš„è®¿é—®æƒé™ï¼Œå…¶ä¸­INPUTéƒ¨åˆ†çš„<code class="highlighter-rouge">-A INPUT -j drop</code>èµ«ç„¶åœ¨ç›®ã€‚å°±æ˜¯è¿™å¥è¯æµªè´¹äº†æˆ‘äººç”Ÿä¸­å®è´µçš„ä¸¤ä¸ªåŠå°æ—¶ã€‚ä¹‹å‰ä¸€ç›´ä»¥ä¸ºè¿™æ˜¯å°äººç•œæ— å®³çš„å¹²å‡€ä¸»æœºï¼Œç”šè‡³è¿gitå’Œnginxéƒ½æ²¡è£…è¿‡ã€‚è°æ›¾æƒ³ï¼Œæ²¡è£…è¿‡nginxå´æŠŠé˜²ç«å¢™è§„åˆ™é…äº†ä¸€æºœå¤Ÿï¼ŒçœŸæ˜¯æŠ«ç€ç¾Šçš®çš„ç‹¼ï¼</p>

<p>è¯•äº†è¯•å‘ç°é å‰çš„æ¡ç›®ä¼˜å…ˆçº§é«˜äºé åçš„æ¡ç›®ï¼Œäºæ˜¯åŠ äº†ä¸€å¥<code class="highlighter-rouge">-A INPUT -s 10.0.0.0/8 -p tcp -m tcp --dport 80 -j ACCEPT</code>
è§£å†³é—®é¢˜ã€‚æŒ‰ç†è¯´ï¼Œæˆ‘æ˜¯ä¸åº”è¯¥é…ç½®è¿™å°ä¸»æœºçš„ç½‘ç»œçš„ï¼Œä½†é˜´å·®é˜³é”™åˆæŠ˜è…¾å¾—å¤Ÿå‘›ã€‚é™¤äº†æ–°çŸ¥é“ä¸€ä¸ªè¯iptablesä»¥å¤–ï¼Œå¤§åŠå¤©æ—¶é—´å…¨æ— æ”¶è·ï¼Œéå¸¸çƒ¦èºã€‚</p>

<hr>

<h2 id="åè®°">
<a id="åè®°" class="anchor" href="#%E5%90%8E%E8%AE%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>åè®°</h2>

<p>è¶Šå¤šåœ°ç»å†è¿™æ ·çš„æƒ…æ™¯ï¼Œè¶Šè®©æˆ‘è§‰å¾—åˆ·é¢˜æœ‰äº›å¯å–ä¹‹å¤„ã€‚è‡³å°‘åˆ·é¢˜æ—¶å¤§è„‘èƒ½ä¸€ç›´ä¿æŒæ´»åŠ¨ï¼Œæ—¶é—´ä¸ç®—æµªè´¹ã€‚è€Œè¿™ç§ç¯å¢ƒé—®é¢˜è‡ªå·±å»æ‰¾ç­”æ¡ˆé™¤äº†æµªè´¹æ—¶é—´æ¯«æ— æ„ä¹‰ã€‚æœ€å¼€å§‹æœ¬æƒ³æ‰¾ä¸ªdockerç›´æ¥é…å¥½ï¼Œç»“æœè¿™ç§å°ä¼—çš„ä¸œè¥¿å¹¶æ²¡æœ‰äººåšé«˜åº¦å®šåˆ¶åŒ–çš„dockerï¼Œåªæœ‰å®˜æ–¹çš„ä¸¤ä¸ªé•œåƒå­¤é›¶é›¶åœ°æŒ‚åœ¨hubä¸Šã€‚</p>

<p>åˆæƒ³åˆ°å¯èƒ½ä¼šè¦ç”¨CUDAï¼Œå¹²è„†åˆ«æŠ˜è…¾äº†ï¼ŒèŠ±ç‚¹é’±ä¹°AWSç®—äº†ã€‚</p>

<p>åæ§½å®Œäº†ï¼Œæ¥ç€è¯´Vaporï¼Œçœ‹å®ƒæ–‡æ¡£çš„åŠŸèƒ½è¿˜æŒºå¤šæŒºå…¨ï¼Œè€Œä¸”Swiftçš„Foundationå¹¶ä¸æ¯”Pythonè‡ªå¸¦çš„åº“å¼±ã€‚å°¤å…¶æ˜¯å®£ä¼ çš„æ€§èƒ½Swiftç”šè‡³èƒ½è¿½ä¸ŠGoï¼Œä»¤äººå¾ˆå¿ƒåŠ¨ã€‚ä¹‹å‰çœ‹äº†å‡ è¡Œgoçš„ä»£ç ï¼ŒçœŸçš„æ˜¯éš¾å—å•Šï¼Œæ¯”Cè¿˜éš¾çœ‹ã€‚</p>

<p>è‡ªå·±æ²¡æƒ³è¿‡æˆä¸ºä¸€ä¸ªç¨‹åºå‘˜å¤§ç‰›ï¼Œåªå¸Œæœ›èƒ½ç”¨è®¡ç®—æœºè¯­è¨€åœ¨æœ€çŸ­çš„æ—¶é—´åˆ›é€ æœ€å¤§çš„å¿«æ·ã€ä¾¿åˆ©ã€å¿«ä¹ä¸å¹¸ç¦ï¼Œè¿™ä¾¿æ˜¯æˆ‘åœ¨è®¡ç®—æœºé¢†åŸŸçš„ç†æƒ³ã€‚Swiftã€Pythonã€MATLABã€VerilogåŠ ä¹‹MSVCå®¶æ—ï¼Œè‡ªä¸‹è€Œä¸Šï¼Œç”±å†…åˆ°å¤–ï¼ŒåŸºæœ¬å·²ç»èƒ½æ»¡è¶³æˆ‘èƒ½æƒ³åˆ°çš„å¤§éƒ¨åˆ†è®¾æƒ³ã€‚æˆ–è®¸æ²¡å¿…è¦å†çº ç»“äºç¼–è¯‘åŸç†ï¼Œæœ¬èº«å°±æ˜¯é—¨å¤–æ±‰ï¼Œä½•å¿…ä¸ä¸“ä¸šäººå£«æ¯”æ‹¼ä»–ä»¬çš„å¼ºé¡¹å‘¢ï¼Ÿ</p>

<p>çœ‹ç€æ—¶é•¿æ¨ªè·¨17-19å¹´çš„äººç”Ÿâ€œæˆ–è®¸æ˜¯ç¬¬ä¸€ç¯‡ä¹Ÿæ˜¯æœ€åä¸€ç¯‡â€è®ºæ–‡ï¼Œä»ç§‘ç ”çš„æ€¥å…ˆé”‹è·Œè‡³åŠè½¦å°¾ï¼Œä»ç¼–ç¨‹çš„é—¨å¤–æ±‰é—¯è¿›ç–¯äººé™¢â€¦â€¦ä»Šå¤©åœ¨å’ŒMillieå½•åƒæ—¶çªç„¶å›é¦–è¿™ä¸¤å¹´ï¼Œå˜åŒ–å®åœ¨ä¸å°ã€‚æˆ–è®¸åœ¨æ³•å›½çš„å¹³è¡Œä¸–ç•Œä¸­ï¼Œæˆ‘çš„å˜åŒ–æ›´å¤§ï¼Ÿé©¾é©¶å¸†èˆ¹ä¹˜é£ç ´æµªåœ¨èŠ’ä»€æµ·å³¡ï¼Ÿæ‘‡è½¦ç™»ä¸Šé˜¿å°”æ™®è¿ªåŸƒï¼Ÿâ€¦â€¦</p>

<p>å…œå…œè½¬è½¬å¤šå¹´åï¼Œè¿˜æ˜¯è¸è¿›äº†ç¼–ç¨‹çš„ä¸–ç•Œï¼Œä¸çŸ¥å‹ç®±åº•çš„è¾›æ–‡é€çš„Javaæ•™æä¼šä½œä½•æ„Ÿæƒ³ã€‚</p>

<p>æ»¡çº¸è’å”è¨€ï¼Œä¸€æŠŠè¾›é…¸æ³ªã€‚ğŸ˜¢</p>

<hr>

<h2 id="190623-è¡¥å……">
<a id="190623-è¡¥å……" class="anchor" href="#190623-%E8%A1%A5%E5%85%85" aria-hidden="true"><span class="octicon octicon-link"></span></a>190623 è¡¥å……</h2>

<ul>
  <li>å…³äº WebSocket çš„è®¾ç½®</li>
</ul>

<p>ç¯å¢ƒæ­å¥½äº†ä»¥åä¸»è¦é€šè¿‡ä¸¤ä¸ªé¡¹ç›®æ¥å…¥é—¨å­¦ä¹ åç«¯çš„é…ç½®ä¸ç¼–å†™æœåŠ¡ã€‚ä¸€ä¸ªæ˜¯<a href="https://github.com/IBM-Swift/Kitura-Sample">Kitura-Sample</a>ï¼Œä¹Ÿå°±æ˜¯Kituraå®˜æ–¹æ•™ç¨‹æ±‡æ€»çš„ä¸€ä¸ªrepoã€‚å…¶ä¸­æœ‰ä¸€äº›é—®é¢˜å·²ç»é€šè¿‡issueåé¦ˆç»™äº†é¡¹ç›®ç®¡ç†å‘˜ã€‚ä¸å¾—ä¸è¯´ï¼Œæ­£è§„å†›çš„å“åº”é€Ÿåº¦ã€è§£ç­”çš„è€å¿ƒç¨‹åº¦éƒ½å€¼å¾—ç§°é“ï¼Œè®©æˆ‘å¯¹IBMè¿™å®¶å…¬å¸è·¯è½¬ç²‰ã€‚</p>

<p>åœ¨å½“å‰çš„é¡¹ç›®ä¸­ï¼Œæœ‰ä¸€ä¸ªåŸºäº WebSocket çš„åœ¨çº¿èŠå¤©å®¤çš„å®ç°ã€‚åç«¯ä»£ç è™½ç„¶ç®€å•ä½†ä¸å¤±ä¸ºä¸€ä¸ªå¥½çš„è„šæ‰‹æ¶ï¼Œå†µä¸”SwiftåŸç”Ÿçš„ç±»ä¼¼ç¨‹åºå¾ˆå°‘ï¼Œå€¼å¾—ç»§ç»­æ¢ç©¶ã€‚ä½†å½“æˆ‘æƒ³ç™»å…¥èŠå¤©å®¤æµ‹è¯•ä¸€ä¸‹æ—¶ï¼Œå¥‡æ€ªçš„äº‹æƒ…å‘ç”Ÿäº†ï¼š<code class="highlighter-rouge">WebSocket connection failed: Error during WebSocket handshake: Unexpected response code: 302</code></p>

<p>æŒ‰ç†è¯´302å¹¶éä¸€ä¸ªé”™è¯¯ä»£ç ï¼Œå¯ä¸ºä»€ä¹ˆæ— æ³•å»ºç«‹è¿æ¥å‘¢ï¼Ÿåˆ†åˆ«è¯•äº†é˜²ç«å¢™ç«¯å£ã€è·¯ç”±è·¯å¾„ä»¥åŠnpmä¾èµ–é‡è£…ä»¥åä»æ—§æ²¡æœ‰è§£å†³ã€‚åœ¨<a href="https://stackoverflow.com/questions/41381444/websocket-connection-failed-error-during-websocket-handshake-unexpected-respon">SOçš„å¸–å­</a>ä¸Šå´çœ‹åˆ°äº†çœŸæ­£çš„åŸå› ã€‚ä¼¼ä¹æ˜¯å› ä¸º Nginx éœ€è¦å¯¹ WebSocket çš„ Upgrade header åšå‡º<a href="https://www.nginx.com/blog/websocket-nginx/">å…·ä½“è®¾ç½®</a>ä»¥å®ç°é•¿æ—¶é—´è¿æ¥ä¸æ–­çº¿çš„åŠŸèƒ½ã€‚</p>

<p>å› æ­¤ï¼Œä¸Šé¢çš„æœ‰å…³Nginxçš„é…ç½®éœ€è¦å¢æ·»ä¸ºï¼š</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>nano /etc/nginx/sites-available/default
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server {
    listen 80 default_server;
    listen [::]:80 default_server;
    location / {
        proxy_pass http://127.0.0.1:8080;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "Upgrade";
        proxy_set_header X-Forwarded-For $remote_addr;
        proxy_set_header Host $http_host;
    }
}
</code></pre></div></div>

<p>å½“ç„¶ï¼Œæœ€åä¸¤æ¡å’Œ WebSocket æ— å…³ï¼Œä¸»è¦æ˜¯æŠŠè¯·æ±‚å¤´è¡¥é½ä¿¡æ¯æ›´å…¨â€¦â€¦</p>


            
            </div>
            
<div class="entry-tags clearfix">

    <div class="entry-footer clearfix">

        <div class="pull-left">
            <span>
                <i class="fa fa-tags"></i>
                
                <a href="/tags/#swift">swift</a>
                
                <a href="/tags/#mac">mac</a>
                
                <a href="/tags/#coding">coding</a>
                
            </span>            
            <span><i class="fa fa-eye"></i><span id="busuanzi_value_page_pv">0</span> views</span>
            <span>
                <i class="fa fa-comments-o"></i>
                <a href="#comments">GFW comments</a>
				<!--è¢«å¢™æ›¿æ¢class="disqus-comment-count" data-disqus-identifier="Chen's Blog//coding/kitura-deployment-->
            </span>
            <span>
                <i class="fa fa-check-square-o"></i><span>5068 words</span>
            </span>
            <span>
                <i class="fa fa-link"></i>
                <a data-toggle="collapse" href="#share-content" aria-expanded="false" aria-controls="share-content">Share</a>
        </div>
        <div class="pull-right collapse in" id="share-content">
            
<div class="entry-share-links">

    <div class="btn-group" role="group" aria-label="Share">
        <button type="button" class="btn btn-default btn-sm btn-facebook" data-toggle="tooltip" data-placement="top" title="Facebook"><a href="http://www.facebook.com/sharer.php?u=https://yo1995.github.io/coding/kitura-deployment/" target="_blank"><i class="fa fa-fw fa-facebook"></i></a></button>
        
        <button type="button" class="btn btn-default btn-sm btn-twitter" data-toggle="tooltip" data-placement="top" title="Twitter"><a href="https://twitter.com/share?url=https://yo1995.github.io/coding/kitura-deployment/&amp;text=Kitura deployment notes" target="_blank"><i class="fa fa-fw fa-twitter"></i></a></button>

        <button type="button" class="btn btn-default btn-sm btn-weibo" data-toggle="tooltip" data-placement="top" title="æ–°æµªå¾®åš"><a href="http://service.weibo.com/share/share.php?url=https://yo1995.github.io/coding/kitura-deployment/&title=åˆ†äº«%4011L23+çš„æ–‡ç« ã€ŒKitura deployment notesã€&content=ç®€å•è®°å½•éƒ¨ç½²Kituraå’ŒNginxç¯å¢ƒçš„è¿‡ç¨‹&pic=https://yo1995.github.io/images/201906/swift.png" target="_blank"><i class="fa fa-fw fa-weibo"></i></a></button>

        <button type="button" class="btn btn-default btn-sm btn-douban" data-toggle="tooltip" data-placement="top" title="è±†ç“£"><a href="https://www.douban.com/share/service?name=Kitura deployment notes&href=https://yo1995.github.io/coding/kitura-deployment/&image=https://yo1995.github.io/images/201906/swift.png&url=https://yo1995.github.io/coding/kitura-deployment/&title=Kitura deployment notes" target="_blank"><i class="fa fa-fw">è±†</i></a></button>

        <a tabindex="0" class="btn btn-sm btn-weixin" role="button" data-trigger="hover" data-placement="top" id="qrcode-btn"><i class="fa fa-fw fa-weixin"></i></a>

        <div id="qrcode-content" class="qrcode-hidden"><div id="qrcode"></div></div>
        <div id="qrcode-title" class="qrcode-hidden">Scan to Read</div>
		
		<button type="button" class="btn btn-default btn-sm btn-email"><a href="mailto:?Subject=Kitura deployment notes&amp;Body=ç®€å•è®°å½•éƒ¨ç½²Kituraå’ŒNginxç¯å¢ƒçš„è¿‡ç¨‹%20https://yo1995.github.io/coding/kitura-deployment/"><i class="fa fa-fw fa-envelope-o"></i> Email</a></button>

        <div class="btn-group btn-group-justified dropup" role="group">
            <button type="button" class="btn btn-default btn-sm dropdown-toggle btn-more" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-fw fa-share-alt"></i><span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
                
                <li><button type="button" class="btn btn-default btn-sm btn-google"><a href="https://plus.google.com/share?url=https://yo1995.github.io/coding/kitura-deployment/" target="_blank"><i class="fa fa-fw fa-google-plus"></i> Google Plus</a></button></li>

                <li><button type="button" class="btn btn-default btn-sm btn-linkedin"><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://yo1995.github.io/coding/kitura-deployment/" target="_blank"><i class="fa fa-fw fa-linkedin"></i> Linkedin</a></button></li>

                <li><button type="button" class="btn btn-default btn-sm btn-digg"><a href="http://www.digg.com/submit?url=https://yo1995.github.io/coding/kitura-deployment/" target="_blank"><i class="fa fa-fw fa-digg"></i> Digg</a></button></li>

                
                <li><button type="button" class="btn btn-default btn-sm btn-pinterest"><a href="https://pinterest.com/pin/create/bookmarklet/?media=https://yo1995.github.io/images/201906/swift.png&url=https://yo1995.github.io/coding/kitura-deployment/&description=Kitura deployment notes" target="_blank"><i class="fa fa-fw fa-pinterest-p"></i> Pinterest</a></button></li>
                 
                 

                <li><button type="button" class="btn btn-default btn-sm btn-reddit"><a href="http://reddit.com/submit?url=https://yo1995.github.io/coding/kitura-deployment/&amp;title=Kitura deployment notes" target="_blank"><i class="fa fa-fw fa-reddit-alien"></i> Reddit</a></button></li>

                <li><button type="button" class="btn btn-default btn-sm btn-tumblr"><a href="http://www.tumblr.com/share/link?url=https://yo1995.github.io/coding/kitura-deployment/&amp;title=Kitura deployment notes" target="_blank"><i class="fa fa-fw fa-tumblr"></i> Tumblr</a></button></li>

                <li><button type="button" class="btn btn-default btn-sm btn-print"><a href="javascript:;" onclick="window.print()"><i class="fa fa-fw fa-print"></i> Print</a></button></li>

            </ul>
        </div>

    </div>

</div>
        </div>
    </div>  

</div>

          </div>
        </article>
        <!-- END SINGLE-POST -->

        
<div class="post-navigation clearfix">
    <div class="row">

        <div class="col-xs-6">
            <div class="previous-post">
                <div class="arrow">
                    <i class="fa fa-angle-double-left"></i>
                    
                    <a href="/life/life-notes-190609/" class="animsition-link" data-hover-text="Prev: ç”Ÿæ´»ç‚¹æ»´éšè®° - 190609">Prev: ç”Ÿæ´»ç‚¹æ»´éšè®° - 190609</a>
                    
                </div>

            </div>
            <!-- END PREVIOUS-POST -->
        </div>
        <div class="col-xs-6">
            <div class="next-post">
                <div class="arrow">
                    
                    <a href="/coding/kitura-setup/" class="animsition-link" data-hover-text="Next: Kitura é…ç½®å°æ„Ÿ">Next: Kitura é…ç½®å°æ„Ÿ</a>
                    
                    <i class="fa fa-angle-double-right"></i>
                </div>

            </div>
            <!-- END NEXT-POST -->
        </div>
    </div>
</div>
<!-- END POST-NAVIGATION -->
		<!-- 180726 add multi author support -->
		 
			<div class="author-info clearfix">
    <div class="author-avatar">
        <img class="avatar" src="/img/avatar.png" alt="Chen Ting">
    </div>

    <div class="author-description">
        <h4 class="author-title">
            <a href="/about/">Chen Ting <i class="fa fa-link"></i></a>
        </h4>
        <p class="author-bio">
            The page aims to exhibit several activities & achievements which the author engaged in during his undergraduate & graduate period. Meanwhile, other aspects such as lifestyles, literary work, travel notes, etc. would interweave in the narration.
        </p>
    </div>
	<!-- add busaunzi to see how many views and reads happens to my page. addition to tecent -->
	<script async src="/assets/js/busuanzi.pure.mini.js"></script>
</div>
<!-- END AUTHOR-INFO -->
		 
		 
        

<div class="comments-area clearfix">
    <div class="comment-respond">
		<h4 class="comment-reply-title" id="comments">Leave a Comment</h4>
		<div class="disqus-placeholder alert alert-info" style="text-align: center">
			<i class="fa fa-spinner fa-spin" aria-hidden="true"></i>Disqus might be GFW-ed. Excited!
		</div>
		<script src="/assets/js/disqusloader.js"></script>
		<div class="disqus"></div>
		<!--
        <div id="disqus_thread"></div>
        <script>
        var disqus_config = function () {
        this.page.url = "https://yo1995.github.io/coding/kitura-deployment/";
        this.page.identifier = "Chen's Blog//coding/kitura-deployment";
        this.page.title = "Kitura deployment notes";
        };
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//yo1995.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
        </script>
		-->
		<script>disqusLoader( '.disqus', { 
			scriptUrl: '//yo1995.disqus.com/embed.js',
			disqusConfig: function(){
				this.callbacks.onReady = [function(){
				var el = document.querySelector( '.disqus-placeholder' );
				if( el.classList )
					el.classList.add( 'is-hidden' ); // IE 10+
				else
					el.className += ' ' + 'is-hidden'; // IE 8-9
				}];}
			});
		</script>
       <noscript>Please conquer the GFW or enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </div>
</div>
<!-- END COMMENTS-AREA -->


      </div>

      <div class="col-md-4 sidebar-fixed">
    <div class="sidebar">
        <aside class="widget-wrap widget-search">
            <h6 class="widget-title">
                <span>Search for a topic?</span>
            </h6>
			<div onclick="keyinsearch()" class="search-form text-center" id="search-container">
				<input type="text" id="search-input" placeholder="search...">
				<i class="fa fa-search"></i>
				<ul id="results-container" style="list-style:square"></ul>
			</div>
			<!-- 180206 - update -->
<script src="/assets/js/jekyll-search.js" type="text/javascript"></script>

<script type="text/javascript">
  function keyinsearch () {
  SimpleJekyllSearch({
	searchInput: document.getElementById('search-input'),
	resultsContainer: document.getElementById('results-container'),
	json: '/search.json',
	searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a></li>',
	noResultsText: 'æ— ç»“æœ',
	limit: 5,
	fuzzy: false
  });
  }
</script>


<!-- æš‚æ—¶è¿˜æ²¡æƒ³å¥½cacheæ€ä¹ˆæ”¹å†™ï¼Œç›®å‰æ¯æ¬¡è¯·æ±‚éƒ½æ˜¯200 ï¼= = ä¸å¤Ÿchromeè²Œä¼¼æ˜¯ç›´æ¥ä»æœ¬åœ°ç£ç›˜åŠ è½½çš„ -->
<!--
<form class="search-form" action="/search/" target="_blank" method="get">
	<input type="text" placeholder="Search..." name="q">
	<i class="fa fa-search"></i>
</form>
-->

        </aside>
        <!-- END WIDGET-WRAP -->		
        <aside class="widget-wrap widget-categories">
            <h6 class="widget-title">
                <span>Categories</span>
            </h6>
            <ul>
				
				
                <li><a href="/categories/#coding">Coding</a></li>
                
                <li><a href="/categories/#ee">EE</a></li>
                
                <li><a href="/categories/#games">Games</a></li>
                
                <li><a href="/categories/#html">Html</a></li>
                
                <li><a href="/categories/#life">Life</a></li>
                
                <li><a href="/categories/#movie">Movie</a></li>
                
                <li><a href="/categories/#physics">Physics</a></li>
                
                <li><a href="/categories/#reading">Reading</a></li>
                
                <li><a href="/categories/#school">School</a></li>
                
                <li><a href="/categories/#society">Society</a></li>
                
                <li><a href="/categories/#tools">Tools</a></li>
                
                <li><a href="/categories/#video">Video</a></li>
                
            </ul>
        </aside>
        <!-- END WIDGET-WRAP -->
        <aside class="widget-wrap widget-recent-posts">
            <h6 class="widget-title">
                <span>Related Posts</span>
            </h6>
            <ul class="recent-posts">
            
                
                
                
                
                    
                
                    
                
                    
                
                
                
                
                    
                
                    
                
                    
                
                
                
                
                    
                
                    
                
                    
                
                
                
                
                    
                
                    
                
                    
                
                
                
                
                    
                
                    
                
                    
                
                    
                
                    
                
                
                
                
                    
                
                    
                
                    
                
                    
                
                    
                
                
                
                
                    
                
                    
                
                    
                
                
                
                
                    
                
                    
                
                
                
                
                    
                    
                    <li>
                        <figure>
                            <a class="animsition-link" href="/coding/job-hunting-103/">
                                <img src="/images/201701/books.jpg" alt="æ±‚èŒè¿™ä»¶äº‹ - è¡¥é—2">
                            </a>
                        </figure>
                        <div class="recent-post-content">
                            <a class="animsition-link" href="/coding/job-hunting-103/">æ±‚èŒè¿™ä»¶äº‹ - è¡¥é—2</a>
                            <span>2020/01/09</span>
                        </div>
                    </li>
                    
                    
                
                
                
                    
                    
                    <li>
                        <figure>
                            <a class="animsition-link" href="/coding/job-hunting-102/">
                                <img src="/images/202001/md.png" alt="æ±‚èŒè¿™ä»¶äº‹ - è¡¥é—1">
                            </a>
                        </figure>
                        <div class="recent-post-content">
                            <a class="animsition-link" href="/coding/job-hunting-102/">æ±‚èŒè¿™ä»¶äº‹ - è¡¥é—1</a>
                            <span>2020/01/09</span>
                        </div>
                    </li>
                    
                    
                
                
                
                    
                    
                    <li>
                        <figure>
                            <a class="animsition-link" href="/coding/job-hunting-101/">
                                <img src="/images/202001/MBE.jpg" alt="æ±‚èŒè¿™ä»¶äº‹">
                            </a>
                        </figure>
                        <div class="recent-post-content">
                            <a class="animsition-link" href="/coding/job-hunting-101/">æ±‚èŒè¿™ä»¶äº‹</a>
                            <span>2020/01/08</span>
                        </div>
                    </li>
                    
                    
                
                
                    

                
                                   
            </ul>

        </aside>
        <!-- END WIDGET-WRAP -->
        <aside class="widget-wrap widget-tag">
            <h6 class="widget-title">
                <span>Tags Widget <sup class="scroll-top" style="text-transform:none">back to top</sup></span>
            </h6>

            <div class="tag-cloud">
                
                <a href="/tags/#df">df</a>
                
                <a href="/tags/#production">production</a>
                
                <a href="/tags/#life">life</a>
                
                <a href="/tags/#love">love</a>
                
                <a href="/tags/#girls">girls</a>
                
                <a href="/tags/#exam">exam</a>
                
                <a href="/tags/#review">review</a>
                
                <a href="/tags/#year">year</a>
                
                <a href="/tags/#education">education</a>
                
                <a href="/tags/#lifestyle">lifestyle</a>
                
                <a href="/tags/#volunteer">volunteer</a>
                
                <a href="/tags/#physics">physics</a>
                
                <a href="/tags/#lectures">lectures</a>
                
                <a href="/tags/#school">school</a>
                
                <a href="/tags/#football">football</a>
                
                <a href="/tags/#sports">sports</a>
                
                <a href="/tags/#movie">movie</a>
                
                <a href="/tags/#tv">tv</a>
                
                <a href="/tags/#innovation">innovation</a>
                
                <a href="/tags/#project">project</a>
                
                <a href="/tags/#fpga">fpga</a>
                
                <a href="/tags/#science">science</a>
                
                <a href="/tags/#diversity">diversity</a>
                
                <a href="/tags/#arts">arts</a>
                
                <a href="/tags/#reading">reading</a>
                
                <a href="/tags/#projectuniv">projectuniv</a>
                
                <a href="/tags/#blog">blog</a>
                
                <a href="/tags/#helloworld">helloworld</a>
                
                <a href="/tags/#jekyll">jekyll</a>
                
                <a href="/tags/#html">html</a>
                
                <a href="/tags/#css">css</a>
                
                <a href="/tags/#github">github</a>
                
                <a href="/tags/#js">js</a>
                
                <a href="/tags/#hexo">hexo</a>
                
                <a href="/tags/#semiconductor">semiconductor</a>
                
                <a href="/tags/#experiments">experiments</a>
                
                <a href="/tags/#python">python</a>
                
                <a href="/tags/#image">image</a>
                
                <a href="/tags/#coding">coding</a>
                
                <a href="/tags/#gfw">gfw</a>
                
                <a href="/tags/#windows">windows</a>
                
                <a href="/tags/#tools">tools</a>
                
                <a href="/tags/#shell">shell</a>
                
                <a href="/tags/#scripts">scripts</a>
                
                <a href="/tags/#thu">thu</a>
                
                <a href="/tags/#liquid">liquid</a>
                
                <a href="/tags/#latex">latex</a>
                
                <a href="/tags/#basic">basic</a>
                
                <a href="/tags/#games">games</a>
                
                <a href="/tags/#roguelike">roguelike</a>
                
                <a href="/tags/#matlab">matlab</a>
                
                <a href="/tags/#chaos">chaos</a>
                
                <a href="/tags/#simulation">simulation</a>
                
                <a href="/tags/#camping">camping</a>
                
                <a href="/tags/#phd">phd</a>
                
                <a href="/tags/#philosophy">philosophy</a>
                
                <a href="/tags/#optics">optics</a>
                
                <a href="/tags/#dream">dream</a>
                
                <a href="/tags/#circuit">circuit</a>
                
                <a href="/tags/#electronics">electronics</a>
                
                <a href="/tags/#memory">memory</a>
                
                <a href="/tags/#france">France</a>
                
                <a href="/tags/#ingenieur">ingenieur</a>
                
                <a href="/tags/#bbs">bbs</a>
                
                <a href="/tags/#history">history</a>
                
                <a href="/tags/#byr">byr</a>
                
                <a href="/tags/#travel">travel</a>
                
                <a href="/tags/#tour">tour</a>
                
                <a href="/tags/#future">future</a>
                
                <a href="/tags/#graduate">graduate</a>
                
                <a href="/tags/#investment">investment</a>
                
                <a href="/tags/#laptop">laptop</a>
                
                <a href="/tags/#mac">mac</a>
                
                <a href="/tags/#hackintosh">hackintosh</a>
                
                <a href="/tags/#foudre">foudre</a>
                
                <a href="/tags/#law">law</a>
                
                <a href="/tags/#juven">juven</a>
                
                <a href="/tags/#ramen">ramen</a>
                
                <a href="/tags/#industry">industry</a>
                
                <a href="/tags/#alcohol">alcohol</a>
                
                <a href="/tags/#bar">bar</a>
                
                <a href="/tags/#confession">confession</a>
                
                <a href="/tags/#postdoc">postdoc</a>
                
                <a href="/tags/#nyu">nyu</a>
                
                <a href="/tags/#hahn">hahn</a>
                
                <a href="/tags/#scholar">scholar</a>
                
                <a href="/tags/#academia">academia</a>
                
                <a href="/tags/#nba">nba</a>
                
                <a href="/tags/#cool">cool</a>
                
                <a href="/tags/#study">study</a>
                
                <a href="/tags/#fourier">fourier</a>
                
                <a href="/tags/#signal">signal</a>
                
                <a href="/tags/#theorem">theorem</a>
                
                <a href="/tags/#trivial">trivial</a>
                
                <a href="/tags/#chuapp">chuapp</a>
                
                <a href="/tags/#city">city</a>
                
                <a href="/tags/#politics">politics</a>
                
                <a href="/tags/#data">data</a>
                
                <a href="/tags/#tech">tech</a>
                
                <a href="/tags/#nas">nas</a>
                
                <a href="/tags/#network">network</a>
                
                <a href="/tags/#infrastructure">infrastructure</a>
                
                <a href="/tags/#self-esteem">self-esteem</a>
                
                <a href="/tags/#confidence">confidence</a>
                
                <a href="/tags/#mental">mental</a>
                
                <a href="/tags/#value">value</a>
                
                <a href="/tags/#property">property</a>
                
                <a href="/tags/#fame">fame</a>
                
                <a href="/tags/#wechat">wechat</a>
                
                <a href="/tags/#crawler">crawler</a>
                
                <a href="/tags/#threading">threading</a>
                
                <a href="/tags/#multiprocessing">multiprocessing</a>
                
                <a href="/tags/#genuine">genuine</a>
                
                <a href="/tags/#adobe">adobe</a>
                
                <a href="/tags/#codec">codec</a>
                
                <a href="/tags/#software">software</a>
                
                <a href="/tags/#enlighten">enlighten</a>
                
                <a href="/tags/#friends">friends</a>
                
                <a href="/tags/#chance">chance</a>
                
                <a href="/tags/#choice">choice</a>
                
                <a href="/tags/#cpp">cpp</a>
                
                <a href="/tags/#visualization">visualization</a>
                
                <a href="/tags/#c#">c#</a>
                
                <a href="/tags/#gui">gui</a>
                
                <a href="/tags/#gif">gif</a>
                
                <a href="/tags/#remastered">remastered</a>
                
                <a href="/tags/#exe">exe</a>
                
                <a href="/tags/#emoji">emoji</a>
                
                <a href="/tags/#video">video</a>
                
                <a href="/tags/#emoticon">emoticon</a>
                
                <a href="/tags/#pil">pil</a>
                
                <a href="/tags/#swimming">swimming</a>
                
                <a href="/tags/#premiere">premiere</a>
                
                <a href="/tags/#golf">golf</a>
                
                <a href="/tags/#beatbox">beatbox</a>
                
                <a href="/tags/#loopstation">loopstation</a>
                
                <a href="/tags/#photo">photo</a>
                
                <a href="/tags/#plugin">plugin</a>
                
                <a href="/tags/#ae">ae</a>
                
                <a href="/tags/#music">music</a>
                
                <a href="/tags/#nature">nature</a>
                
                <a href="/tags/#basketball">basketball</a>
                
                <a href="/tags/#rdfz">rdfz</a>
                
                <a href="/tags/#world">world</a>
                
                <a href="/tags/#society">society</a>
                
                <a href="/tags/#discrimination">discrimination</a>
                
                <a href="/tags/#universe">universe</a>
                
                <a href="/tags/#youtube">youtube</a>
                
                <a href="/tags/#marriage">marriage</a>
                
                <a href="/tags/#swift">swift</a>
                
                <a href="/tags/#food">food</a>
                
                <a href="/tags/#cycling">cycling</a>
                
                <a href="/tags/#homework">homework</a>
                
                <a href="/tags/#museum">museum</a>
                
                <a href="/tags/#honesty">honesty</a>
                
                <a href="/tags/#comparison">comparison</a>
                
                <a href="/tags/#job">job</a>
                
                <a href="/tags/#writing">writing</a>
                
                <a href="/tags/#career">career</a>
                
            </div>
        </aside>
        <!-- END WIDGET-WRAP -->
		
        <aside class="widget-wrap widget-toc">
            <h6 class="widget-title">
                <span>Table of Contents <sup class="scroll-top" style="text-transform:none">back to top</sup></span>
            </h6>
            <div id="navbar">
                <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#èƒŒæ™¯">èƒŒæ™¯</a></li>
<li class="toc-entry toc-h2"><a href="#å®‰è£…swiftç¯å¢ƒ">å®‰è£…Swiftç¯å¢ƒ</a></li>
<li class="toc-entry toc-h2"><a href="#å®‰è£…vaporç¯å¢ƒ">å®‰è£…Vaporç¯å¢ƒ</a></li>
<li class="toc-entry toc-h2"><a href="#é…ç½®nginxä»£ç†">é…ç½®Nginxä»£ç†</a></li>
<li class="toc-entry toc-h2"><a href="#åè®°">åè®°</a></li>
<li class="toc-entry toc-h2"><a href="#190623-è¡¥å……">190623 è¡¥å……</a></li>
</ul>
            </div>
        </aside>
        <!-- END WIDGET-WRAP -->
		
    </div>
    <!-- END SIDEBAR -->
</div>

    </div>
  </div>
</div>
<!-- END SINGLE-POST-WRAP -->


        </main>
        <!-- END MAIN -->

        
<footer>
  <div class="footer">
    <div class="container">
      <div class="text-center">
        <a href="/blog" class="logo clearfix animsition-link"><img src="/img/sig.svg" width="400" alt="Chen's Sig"></a>
        <p class="copy">
          Maintained by <a href="/about/">Chen Ting</a> 
		  
        </p>
        <div class="icon-list">
          <a href="https://www.linkedin.com/in/ting-chen-402bab122/" target="_blank">
            <i class="fa fa-fw fa-linkedin"></i>
          </a>
          <a href="http://my.hupu.com/17573413/" target="_blank">
            <i class="fa fa-fw fa-futbol-o"></i>
          </a>
          <a href="https://www.douban.com/people/yo1995/" target="_blank">
            <i class="fa fa-fw fa-book"></i>
          </a>
		   <a href="https://www.flickr.com/photos/yo1995/" target="_blank">
            <i class="fa fa-fw fa-flickr"></i>
          </a>
          <a href="https://github.com/yo1995/" target="_blank">
            <i class="fa fa-fw fa-github"></i>
          </a>
		  <a href="/feed.xml" target="_blank">
            <i class="fa fa-fw fa-rss"></i>
          </a>
        </div>
        <div class="scroll-top">go to top</div>
      </div>
    </div>

  </div>
  <!-- END FOOTER -->
</footer>

      </div>
      <!-- END CONTENT -->
    </div>
    <!-- END ANIMSITION -->

    
<!-- SCRIPTS -->
<script src="/assets/js/jquery-1.12.0.min.js"></script>
<script src="/assets/js/plugins.min.js"></script>
<script src="/assets/js/jquery.fitvids.js"></script>
<!-- CUSTOM SCRIPT -->
<script src="/assets/js/script.js"></script>
<script src="/assets/js/bootstrap.js"></script>
<!-- Script pointing to jekyll-search.js -->
<script src="/assets/js/tether.min.js"></script>
<script>document.getElementById("CN").href = "http://yo1995.coding.me" + window.location.pathname;</script>


<script src="/assets/js/qrcode.js"></script>
<script>
var qrcode = new QRCode(document.getElementById("qrcode"), {
    text: "https://yo1995.github.io/coding/kitura-deployment/",
    width: 196,
    height: 196,
    colorDark : "#000000",
    colorLight : "#ffffff",
    correctLevel : QRCode.CorrectLevel.H,
    useSVG: true
});
</script>


<!-- çˆ±å¿ƒç‰¹æ•ˆ -->



<script async src="/assets/js/busuanzi.pure.mini.js">
</script>
<!--åŠŸå¤«ç½‘å¡ä½äº†script id="dsq-count-scr" src="//yo1995.disqus.com/count.js" async></script-->







<!--script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-82518311-1', 'auto');
  ga('send', 'pageview', {
  'page': '/coding/kitura-deployment/',
  'title': 'Kitura deployment notes'
  });

</script-->


  </body>

</html>
